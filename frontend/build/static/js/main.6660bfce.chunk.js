(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,n){e.exports={mainContainer:"styles_mainContainer__1V_-R",container:"styles_container__2SgF2"}},146:function(e,t,n){e.exports={form:"styles_form__1hqYg",ui:"styles_ui__310-4"}},180:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(22),r=n.n(s),i=(n(180),n(127)),o=n(206),d=n(210),l=n(146),u=n.n(l),m=n(205),h=function(e){return e.children},j=n(6),b=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),l=Object(i.a)(r,2),b=l[0],p=l[1],f=Object(a.useState)(""),O=Object(i.a)(f,2),x=O[0],M=O[1],g=function(e){switch(e.target.name){case"owner":s(e.target.value);break;case"caption":p(e.target.value);break;case"url":M(e.target.value)}};return Object(j.jsxs)(o.a,{className:u.a.form,children:[Object(j.jsx)(o.a.Field,{children:e.modal?"":Object(j.jsxs)(h,{children:[" ",Object(j.jsx)("label",{children:"Meme Owner"})," ",Object(j.jsx)("input",{value:c,name:"owner",onChange:g,placeholder:"Enter your full name"})," "]})}),Object(j.jsxs)(o.a.Field,{children:[Object(j.jsx)("label",{children:"Caption"}),Object(j.jsx)("input",{value:b,name:"caption",onChange:g,placeholder:"Be Creative with caption"})]}),Object(j.jsxs)(o.a.Field,{children:[Object(j.jsx)("label",{children:"Meme URL"}),Object(j.jsx)("input",{value:x,name:"url",onChange:g,placeholder:"Enter URL of your meme here"})]}),e.modal?Object(j.jsxs)(h,{children:[Object(j.jsxs)(d.a,{onClick:function(){return e.showModal(!1)},type:"cancel",children:[" ","Cancel"," "]})," "]}):"",Object(j.jsx)(d.a,{onClick:e.modal?function(){var t={name:c,url:x,caption:b};e.editMeme(t)}:function(){var t=""!==c&&""!=x&&""!=b||(m.b.error("All fields are mandatory. Please check again and submit"),!1),n={name:c,url:x,caption:b};t&&e.submitMeme(n),s(""),p(""),M("")},type:"submit",children:"Submit"})]})},p=(n(189),n(212)),f=n(209),O=n(82),x=n(162),M=n(83),g=n.n(M),v=function(e){return Object(j.jsx)("div",{id:e.id,className:g.a.memeCard,children:Object(j.jsxs)(f.a,{children:[Object(j.jsxs)(f.a.Content,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(O.a,{name:"user outline"})," ",Object(j.jsx)(f.a.Header,{className:g.a.header,children:e.name.charAt(0).toUpperCase()+e.name.slice(1)}),Object(j.jsx)("div",{onClick:e.showModal,className:g.a.editIcon,children:Object(j.jsx)(O.a,{id:e.id,name:"edit outline"})})]}),Object(j.jsxs)(f.a.Meta,{children:["@",e.name.charAt(0).toLowerCase()+e.name.slice(1)]})]}),Object(j.jsx)("div",{className:g.a.cardImageContainer,children:Object(j.jsx)(x.a,{className:g.a.cardImage,src:e.image,wrapped:!0,ui:!1})}),Object(j.jsx)(f.a.Content,{children:Object(j.jsx)(f.a.Description,{children:e.caption})})]})})},C=function(e){var t=e.firstHundredMemes;return Object(j.jsx)(p.a,{width:16,children:t.length>0?t.map((function(t){return Object(j.jsx)(v,{showModal:function(t){return e.showModal(t,!0)},id:t.id,image:t.url,name:t.name,caption:t.caption})})):""})},w=n(90),y=n.n(w),_=n(133),I=n(158),k=n(159),S=n(164),H=n(161),N=n(208),F=n(126),D=n.n(F),U=n(207),A=function(e){return Object(j.jsxs)(U.a,{fixed:"top",inverted:!0,children:[Object(j.jsx)(U.a.Item,{children:"XMeme"}),Object(j.jsx)(U.a.Item,{onClick:e.onToggle}),Object(j.jsx)(U.a.Menu,{position:"right"})]})},E=function(e){Object(S.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(I.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={loading:!1,firstHundredMemes:null,showModal:!1,editMemeID:""},e.checkValidation=function(e,t){if(!e)return!0},e.fetchFirstHundredMemes=function(){fetch(encodeURI("https://xmemeapps.herokuapp.com/memes")).then((function(e){return e.json()})).then((function(t){e.setState({firstHundredMemes:t})})).catch((function(e){console.log("Error occured during fetch ".concat(e))}))},e.showModal=function(t,n){n?e.setState({showModal:!0,editMemeID:t.target.id}):e.setState({showModal:!1,editMemeID:""})},e.editMeme=function(){var t=Object(_.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),console.log(e.state.editMemeID),e.setState({loading:!0}),t.prev=3,t.next=6,fetch(encodeURI("https://xmemeapps.herokuapp.com/memes/".concat(e.state.editMemeID)),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n.url,caption:n.caption})}).then((function(e){200===e.status?m.b.success("Meme Update succesful"):e.status>400&&m.b.error("Unable to update meme")}));case 6:t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),m.b.error("Error accured during API");case 12:e.fetchFirstHundredMemes(),e.showModal(!1,"");case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),e.submitMeme=function(){var t=Object(_.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,fetch(encodeURI("https://xmemeapps.herokuapp.com/memes"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){if(e.checkValidation(!1,t))return t})).catch((function(t){e.setState({loading:!1}),console.log("Error occured during fetch api")}));case 3:t.sent,e.fetchFirstHundredMemes();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.fetchFirstHundredMemes()}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:D.a.mainContainer,children:[Object(j.jsx)(A,{items:["Login","Register"]}),Object(j.jsxs)("div",{className:D.a.container,children:[Object(j.jsx)(b,{submitMeme:this.submitMeme}),Object(j.jsx)("div",{className:D.a.memeListContainer,children:this.state.firstHundredMemes?Object(j.jsx)(C,{showModal:this.showModal,firstHundredMemes:this.state.firstHundredMemes}):""})]}),Object(j.jsx)(N.a,{dimmer:!0,open:this.state.showModal,children:Object(j.jsx)(b,{editMeme:this.editMeme,showModal:this.showModal,modal:!0,submitMeme:this.submitMeme})})]})}}]),n}(c.a.Component);n(191),n(192);var L=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(E,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,214)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),R()},83:function(e,t,n){e.exports={memeCard:"styles_memeCard__17EJQ",cardImageContainer:"styles_cardImageContainer__1fkyQ",cardImage:"styles_cardImage__1r0kH",header:"styles_header__3nVxg",editIcon:"styles_editIcon__2NTWJ"}}},[[193,1,2]]]);
//# sourceMappingURL=main.6660bfce.chunk.js.map